/*
 * ConfirmDialog.java
 *
 * Created on 2017/10/27, 23:00
 */

package com.geobeck.sosia.pos.hair.reservation;

import	javax.swing.*;
import	com.geobeck.sosia.pos.swing.*;
import	com.geobeck.sosia.pos.system.*;

/**
 *
 * @author  lvtu
 */
public class ConfirmDialog extends AbstractImagePanelEx  {

    private final int CONFIRM_MISTAKE    = 0;	//間違い登録
    private final int CONFIRM_CONTACT    = 1;	//連絡有りのキャンセル
    private final int CONFIRM_NO_CONTACT = 2;	//無断キャンセル

    /** 区分　0：間違い登録　1：連絡有りのキャンセル　2：無断キャンセル */
    public Integer paramConfirm = null;

    public boolean paramDeleteFlag = false;

    /** Creates new form ConfirmDialog */
    public ConfirmDialog()
    {
        initComponents();
        this.setSize(340, 170);
        this.init();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        rdoGroupConfirm = new javax.swing.ButtonGroup();
        panelSelect = new javax.swing.JPanel();
        lbConfirm = new javax.swing.JLabel();
        rdoMistake = new javax.swing.JRadioButton();
        rdoContact = new javax.swing.JRadioButton();
        rdoNoContact = new javax.swing.JRadioButton();
        panelButton = new javax.swing.JPanel();
        closeButton = new javax.swing.JButton();
        deleteButton = new javax.swing.JButton();

        setFocusTraversalPolicyProvider(true);

        panelSelect.setOpaque(false);

        lbConfirm.setText("予約キャンセルの区分を選択してください。");

        rdoGroupConfirm.add(rdoMistake);
        rdoMistake.setSelected(true);
        rdoMistake.setText("間違い登録");
        rdoMistake.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
        rdoMistake.setMargin(new java.awt.Insets(0, 0, 0, 0));
        rdoMistake.setOpaque(false);

        rdoGroupConfirm.add(rdoContact);
        rdoContact.setText("連絡有りのキャンセル");
        rdoContact.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
        rdoContact.setMargin(new java.awt.Insets(0, 0, 0, 0));
        rdoContact.setOpaque(false);

        rdoGroupConfirm.add(rdoNoContact);
        rdoNoContact.setText("無断キャンセル");
        rdoNoContact.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
        rdoNoContact.setMargin(new java.awt.Insets(0, 0, 0, 0));
        rdoNoContact.setOpaque(false);

        javax.swing.GroupLayout panelSelectLayout = new javax.swing.GroupLayout(panelSelect);
        panelSelect.setLayout(panelSelectLayout);
        panelSelectLayout.setHorizontalGroup(
            panelSelectLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelSelectLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(panelSelectLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelSelectLayout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addGroup(panelSelectLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(rdoMistake, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(rdoContact, javax.swing.GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE)
                            .addComponent(rdoNoContact, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addComponent(lbConfirm, javax.swing.GroupLayout.PREFERRED_SIZE, 306, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );
        panelSelectLayout.setVerticalGroup(
            panelSelectLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelSelectLayout.createSequentialGroup()
                .addComponent(lbConfirm, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rdoMistake, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rdoContact, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rdoNoContact, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        panelButton.setOpaque(false);

        closeButton.setIcon(SystemInfo.getImageIcon("/button/common/close_off.jpg"));
        closeButton.setBorderPainted(false);
        closeButton.setContentAreaFilled(false);
        closeButton.setPressedIcon(SystemInfo.getImageIcon("/button/common/close_on.jpg"));
        closeButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closeButtonActionPerformed(evt);
            }
        });

        deleteButton.setIcon(SystemInfo.getImageIcon("/button/reservation/delete_reservation_off.jpg"));
        deleteButton.setBorderPainted(false);
        deleteButton.setContentAreaFilled(false);
        deleteButton.setPressedIcon(SystemInfo.getImageIcon("/button/reservation/delete_reservation_on.jpg"));
        deleteButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                deleteButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout panelButtonLayout = new javax.swing.GroupLayout(panelButton);
        panelButton.setLayout(panelButtonLayout);
        panelButtonLayout.setHorizontalGroup(
            panelButtonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelButtonLayout.createSequentialGroup()
                .addGap(35, 35, 35)
                .addComponent(deleteButton, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(62, 62, 62)
                .addComponent(closeButton, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panelButtonLayout.setVerticalGroup(
            panelButtonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelButtonLayout.createSequentialGroup()
                .addGap(4, 4, 4)
                .addGroup(panelButtonLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(deleteButton, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(closeButton, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(3, 3, 3))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(panelSelect, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(panelButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(panelSelect, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(2, 2, 2)
                .addComponent(panelButton, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(5, 5, 5))
        );
    }// </editor-fold>//GEN-END:initComponents

    /**
     * 編集したコメントをキャンセルしてダイアログを閉じる
     */
	private void closeButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closeButtonActionPerformed
            this.paramDeleteFlag = Boolean.FALSE;
            this.closePanel();
	}//GEN-LAST:event_closeButtonActionPerformed

    /**
     * 編集したコメントを一時保存して終了する
     */
    private void deleteButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_deleteButtonActionPerformed
        if(rdoMistake.isSelected()){
            this.paramConfirm = this.CONFIRM_MISTAKE;
        }else if(rdoContact.isSelected()){
            this.paramConfirm = this.CONFIRM_CONTACT;
        }else if(rdoNoContact.isSelected()){
            this.paramConfirm = this.CONFIRM_NO_CONTACT;
        }
        this.paramDeleteFlag = Boolean.TRUE;
        this.closePanel();
    }//GEN-LAST:event_deleteButtonActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton closeButton;
    private javax.swing.JButton deleteButton;
    private javax.swing.JLabel lbConfirm;
    private javax.swing.JPanel panelButton;
    private javax.swing.JPanel panelSelect;
    private javax.swing.JRadioButton rdoContact;
    private javax.swing.ButtonGroup rdoGroupConfirm;
    private javax.swing.JRadioButton rdoMistake;
    private javax.swing.JRadioButton rdoNoContact;
    // End of variables declaration//GEN-END:variables

	/**
	 * ダイアログを初期化する
	 */
	private void init()
	{
        this.setListener();
        this.addMouseCursorChange();
	}

    /**
     * ボタンにマウスカーソルが乗ったときにカーソルを変更するイベントを追加する。
     */
    private void addMouseCursorChange() {
        SystemInfo.addMouseCursorChange(deleteButton);
        SystemInfo.addMouseCursorChange(deleteButton);
    }

    /**
     * コンポーネントの各リスナーをセットする。
     */
    private void setListener() {
        rdoMistake.addKeyListener(SystemInfo.getMoveNextField());
        rdoContact.addKeyListener(SystemInfo.getMoveNextField());
        rdoNoContact.addKeyListener(SystemInfo.getMoveNextField());
    }

    /**
     * ダイアログを閉じる
     */
    private void closePanel()
    {
        if (this.isDialog())
            ((JDialog)this.getParent().getParent().getParent().getParent()).setVisible(false);
        else
            this.setVisible(false);
    }
}
